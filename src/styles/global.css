@tailwind base;
@tailwind components;
@tailwind utilities;

:root { --header-h: 5rem; /* ~80px */ }
@media (min-width: 768px){ :root { --header-h: 6rem; } }

/* üÖ∞Ô∏è Lokale Poppins-Schrift */
@font-face {
  font-family: 'Poppins';
  src: url('/fonts/Poppins-Regular.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'Poppins';
  src: url('/fonts/Poppins-Bold.woff2') format('woff2');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

body {
  font-family:
    'Poppins',
    'Segoe UI Emoji',
    'Segoe UI Symbol',
    'Apple Color Emoji',
    'Noto Color Emoji',
    Arial,
    sans-serif;
}

/* üî§ Basistypografie & Layout */
@layer base {
  body {
    font-size: 1rem;
    line-height: 1.625;
    color: #1a202c;
    background-color: #f8fafc;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  h1, h2, h3, h4, h5 {
    font-weight: 700;
    letter-spacing: -0.01em;
  }

  section {
    scroll-margin-top: var(--header-h);
  }

  /* ‚úÖ Fix: kein transform mehr am Header */
  #site-header { 
    backface-visibility: hidden; 
    -webkit-backface-visibility: hidden; 
  }
}

/* üé® Designkomponenten */
@layer components {
  .btn {
    @apply px-8 py-3 rounded-full font-semibold transition bg-gold text-dark shadow hover:opacity-90 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-gold/50;
  }

  .btn-outline {
    @apply border-2 border-gold bg-transparent text-gold hover:bg-gold hover:text-dark;
  }

  .card {
    @apply bg-white border-2 border-gold/30 group-hover:border-gold rounded-2xl shadow-xl 
           p-6 sm:p-8 text-center text-dark/80 
           flex flex-col justify-center items-center 
           min-h-[240px] sm:min-h-[260px] 
           transition-all duration-200 hover:scale-105 hover:shadow-2xl;
  }
}

/* üîó Link-Verhalten */
a {
  transition: all 0.2s;
  text-underline-offset: 2px;
  text-decoration: none;
  outline: none;
}

a:focus-visible {
  outline: 2px solid #d4af37;
  outline-offset: 2px;
}

a:hover {
  text-decoration: underline;
}

/* ‚ú® Utility-Animationen */
@layer utilities {
  .animate-fade-in { animation: fadeIn 1s cubic-bezier(.4,0,.2,1) both; }
  .animate-fade-in-fast { animation: fadeIn .6s cubic-bezier(.4,0,.2,1) both; }
  .animate-fade-in-slow { animation: fadeIn 1.5s cubic-bezier(.4,0,.2,1) both; }
  .animate-pop { animation: popIn 0.5s cubic-bezier(.3,2,.6,1) both; }
  .animate-bounce-slow { animation: bounce 2s infinite; }
  .animate-wiggle { animation: wiggle 1.5s ease-in-out infinite; }

  @keyframes fadeIn {
    0% { opacity: 0; transform: translateY(32px); }
    100% { opacity: 1; transform: none; }
  }

  @keyframes popIn {
    0% { opacity: 0; transform: scale(0.7); }
    100% { opacity: 1; transform: scale(1); }
  }

  @keyframes bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-8px); }
  }

  @keyframes wiggle {
    0%, 100% { transform: rotate(-2deg); }
    50% { transform: rotate(2deg); }
  }

  /* ‚ò∞ Hamburger-Animationen */
  .hamburger-bar {
    @apply absolute left-0 w-7 h-1 rounded bg-current transition-all duration-300;
  }

  .top-1 { top: 0; }
  .top-3 { top: 12px; }
  .top-5 { top: 24px; }

  .morph-x .top-1 { transform: translateY(12px) rotate(45deg); }
  .morph-x .top-3 { opacity: 0; transform: scaleX(0.5); }
  .morph-x .top-5 { transform: translateY(-12px) rotate(-45deg); }

  .group:hover .group-hover\:opacity-100 {
    opacity: 1 !important;
    pointer-events: auto;
  }
}

/* ‚è≥ Progress element theme (gold) */
progress { appearance: none; -webkit-appearance: none; width: 100%; height: 0.75rem; border-radius: 9999px; overflow: hidden; }
progress::-webkit-progress-bar { background: #f9f9f9; }
progress::-webkit-progress-value { background: #d4af37; transition: width .5s ease; }
progress::-moz-progress-bar { background: #d4af37; }

@media (prefers-reduced-motion: reduce) {
  * { animation-duration: 0.01ms !important; animation-iteration-count: 1 !important; transition-duration: 0.01ms !important; scroll-behavior: auto !important; }
}

/* üö® Fallback-Fix: Header darf nie transform haben */
#site-header { transform: none !important; }